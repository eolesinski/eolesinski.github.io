<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> geoStates | Ethan Olesinski </title> <meta name="author" content=" Ethan Olesinski"> <meta name="description" content="an open-source package for plotting choropleth maps"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/al-folio/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/al-folio/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/al-folio/assets/img/favicon.ico?8c73076099d006d4040f1d71698da516"> <link rel="stylesheet" href="/al-folio/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://eolesinski.github.io/al-folio/projects/2_project/"> <link rel="stylesheet" href="/al-folio/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/al-folio/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/al-folio/"> Ethan Olesinski </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/al-folio/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/al-folio/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/al-folio/assets/pdf/resume.pdf">resume </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/al-folio/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/al-folio/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/al-folio/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">geoStates</h1> <p class="post-description">an open-source package for plotting choropleth maps</p> </header> <article> <p><a href="https://github.com/eolesinski/geostates" rel="external nofollow noopener" target="_blank">geoStates</a> is an open-source Python package for plotting choropleth maps of the United States. It was originally created as a way to reduce the amount of customizations/steps required to display all of a shapefile’s states in the same plot window.</p> <p>The figure below shows the output of calling <code class="language-plaintext highlighter-rouge">.plot()</code> on a shapefile from the U.S. Census Bureau:</p> <div class="row"> <div class="col-md-3"> <p></p> </div> <div class="col-md-6"> <figure> <picture> <source class="responsive-img-srcset" srcset="/al-folio/assets/img/shapefile_2-480.webp 480w,/al-folio/assets/img/shapefile_2-800.webp 800w,/al-folio/assets/img/shapefile_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/al-folio/assets/img/shapefile_2.png" class="img-fluid" width="100%" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-md-3"> <p></p> </div> </div> <p>As shown above, the shapefile contains a set of multipolygon objects that are all located in their geospatially accurate positions. While this is geographically correct, it is not very helpful for visualization. Most maps of the United States move Alaska and Hawaii to the lower left part of the plot. This package addresses this issue.</p> <p>This package was also partly inspired by the spirit of the quote below:</p> <blockquote> <p>Every good work of software starts by scratching a developer’s personal itch <br>       – Eric S. Raymond, <em>The Cathedral and the Bazaar (Chapter 2, page 23) </em></p> </blockquote> <p>After moving the multipolygons for Alaska and Hawaii to the lower left, the new plot looks like this:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/al-folio/assets/img/full_map_2-480.webp 480w,/al-folio/assets/img/full_map_2-800.webp 800w,/al-folio/assets/img/full_map_2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/al-folio/assets/img/full_map_2.png" class="img-fluid" width="100%" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> New plot with Alaska and Hawaii scaled and located in the lower left </div> <p>The primary goal of this package was to simplify the process of creating high-quality choropleth maps in Python. In order to make this process as straight forward as possible, the API was designed to contain a <code class="language-plaintext highlighter-rouge">plot_states()</code> function that takes in a dataframe (merged with data that you would like to plot) and various aesthetic tuning parameters.</p> <p>As an example, the code below generates the proceeding plot:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># call the plot_states() function
</span><span class="nf">plot_states</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="sh">'</span><span class="s">admits</span><span class="sh">'</span><span class="p">,</span> <span class="n">extra_regions</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="sh">'</span><span class="s">copper_r</span><span class="sh">'</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="sh">'</span><span class="s">both</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">linestyle</span><span class="o">=</span><span class="sh">'</span><span class="s">none</span><span class="sh">'</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="sh">'</span><span class="s">lefend</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># add a title to the plot
</span><span class="n">plot</span><span class="p">.</span><span class="nf">annotate</span><span class="p">(</span><span class="sh">'</span><span class="s">Princeton Admissions 2021</span><span class="sh">'</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">97</span><span class="p">,</span> <span class="mf">50.5</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="sh">'</span><span class="s">center</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/al-folio/assets/img/princeton-480.webp 480w,/al-folio/assets/img/princeton-800.webp 800w,/al-folio/assets/img/princeton-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/al-folio/assets/img/princeton.png" class="img-fluid" width="100%" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Geographic distribution of undergraduate admissions to Princeton University (2021) </div> <p>If you would like to learn more about geoStates and how it works you can visit its <a href="https://eolesinski.github.io/geostates/">documentation page</a>. If you would like to install geoStates directly (without using <code class="language-plaintext highlighter-rouge">pip install geostates</code>), you can visit its <a href="https://github.com/eolesinski/geostates" rel="external nofollow noopener" target="_blank">GitHub page</a> or <a href="https://pypi.org/project/geostates/" rel="external nofollow noopener" target="_blank">PyPI page</a>.</p> </article> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 Ethan Olesinski. <br>Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: March 05, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/al-folio/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/al-folio/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/al-folio/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/al-folio/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/al-folio/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/al-folio/assets/js/copy_code.js?7254ae07fe9cc5f3a10843e1c0817c9c" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>